<html lang="en"
      xmlns="http://www.w3.org/1999/xhtml"
      xmlns:h="http://java.sun.com/jsf/html"
      xmlns:f="http://java.sun.com/jsf/core"
      xmlns:p="http://primefaces.org/ui"
      xmlns:ui="http://java.sun.com/jsf/facelets"
      >    

	
 <h:body style="margin-left:10%; margin-right:10%">
	 <ui:composition template="template/template.xhtml">
	 <ui:define name="title">Categories</ui:define>
	 <ui:define name="content">        
	 <div >
		<h1 style="text-align: center">Categories</h1>
		<h:form>
			<h:panelGrid columns="3" cellpadding="10">
				<p:outputLabel value="Ajouter catÃ©gorie"></p:outputLabel>
				<p:inputText value="#{categorieView.categorie.libelle}"></p:inputText>
				<p:commandButton value="Ajouter" action="#{categorieView.save}" process="@all" update="@all" class="btn-success"></p:commandButton>
			</h:panelGrid>  
	 
	   		<p:dataTable id="categorie1" var="categorie" value="#{categorieView.categories}" editable="true" style="margin-bottom:20px">
		       	<f:facet name="header">Categories</f:facet>
		 
		       	<p:ajax event="rowEdit" listener="#{categorieView.onRowEdit}" />
		       	<p:ajax event="rowEditCancel" listener="#{categorieView.onRowCancel}"/>	 
		       	<p:column headerText="Libelle" style="width:60%">
		        	<p:cellEditor>
		            	<f:facet name="output"><h:outputText value="#{categorie.libelle}" /></f:facet>
		               	<f:facet name="input"><p:inputText value="#{categorie.libelle}" style="width:100%" label="Libelle"/></f:facet>
		           	</p:cellEditor>
		       	</p:column>
				<p:column headerText="Type Categorie" style="width:30%">
		        	<p:cellEditor>
		            	<f:facet name="output"><h:outputText value="#{categorie.typeCategorie.libelle}" /></f:facet>
		               	<f:facet name="input">
		                	<h:selectOneMenu value="#{categorieView.typeCategorieSelected}" style="width:100%">
		                    	<f:selectItems value="#{categorieView.typeCategories}" var="typecategorie" itemLabel="#{typecategorie.libelle}" itemValue="#{typecategorie.id}" />		                    	
		                 	</h:selectOneMenu>
		               	</f:facet>
		           	</p:cellEditor>
		       </p:column>	   
			    <p:column headerText="Hors stats" style="width:15%">		               	
	           		<p:selectBooleanCheckbox value="#{categorie.horsStats}"/>	               	
		       	</p:column>		      
		       	<p:column style="width:10%; height:50px" >
		        	<p:rowEditor/>
		       	</p:column>
	   		</p:dataTable>
	   	</h:form>
	</div>	
	</ui:define>
	</ui:composition>
</h:body>
</html>